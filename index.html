<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<script>

    // output random between rps

    // create constant array of rps
    const result = ['rock', 'paper', 'scissors'];

    // creating counters
    let win = 0;
    let loss = 0;
    let draw = 0;

    function getComputerChoice() {
        
        let lengthOfArray = result.length;
        let i = Math.floor(Math.random() * lengthOfArray);
        return result[i];
    }

    //console.log(getComputerChoice());

    function playRound(playerSelection, computerSelection) {
        // set playerSelection to lowercase
        
        let lowerPlayerSelection = playerSelection.toLowerCase(); 

        if (lowerPlayerSelection == computerSelection) {
            draw++;
            return `Draw! ${lowerPlayerSelection}${computerSelection}`; 
        }
        
        if ((lowerPlayerSelection == 'rock') && (computerSelection == 'paper')) {
            loss++;
            return `You lost! ${computerSelection} beats ${lowerPlayerSelection}`; 
        }
        
        if ((lowerPlayerSelection == 'paper') && (computerSelection == 'scissors')) {
            loss++;
            return `You lost! ${computerSelection} beats ${lowerPlayerSelection}`; 
        }  

        if ((lowerPlayerSelection == 'scissors') && (computerSelection == 'rock')) {
            loss++;
            return `You lost! ${computerSelection} beats ${lowerPlayerSelection}`; 
        }  

        //if (playerSelection == computerSelection) {
        win++;
        return `You won ${lowerPlayerSelection} beats ${computerSelection}!`;
        //}
    }


    function game() {

        // creating empty results array
        let results = [];
        let winner;

        // five round loop
        for (let i = 0; i < 5; i++) {

            // prompts player input
            let playerInput = prompt("RPS? ");
            computerSelection = getComputerChoice();
            let roundResult = playRound(playerInput,computerSelection);

            // add the result to an array 
            results.push(roundResult);

            // determine if you won based on counter for W, L, D
            if (win > loss + draw) {
                winner = true; 
            } else {
                winner = false;
            }

        }

        if (winner) {
            return `You have won ${win} rounds! You are the winner!` + "\nRound by round array: " + results;
        } else {
            return `You have did not win, you won ${win} rounds. Lost ${loss} rounds and drew ${draw}` + "\nRound by round array: " + results;
        }
    }


    console.log(game());

    
</script>

<body>
    <h1>check console</h1>
</body>
</html>